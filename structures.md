# Структуры данных

Программисты постоянно оперируют структурами данных. Это могут быть как входные данные для алгоритма, так и промежуточные или выходные данные.

Да чего уж там, часто при правильно выбранной структуре данных алгоритм упрощается, а иногда и становится тривиальным. И уж точно легче понимается тем, кто потом будет его читать и (возможно) модифицировать. И часто этим человеком можешь быть повзрослевший ты, так что заботся о себе.

## Опциональная переменная

Одна из самых распространенных структур данных. Во многих учебниках её обходят стороной или понимают как нечто само-собой разумеющееся. И зря - неполное понимание этой структуры - одна из причин очень распространенных типов ошибок, которые, к тому же, еще и сложно найти.

Концепт очень прост - часто бывает, что некоторый параметр может иметь конкретное значение, а может его не иметь.

Как мы все понимаем, в таком случае нам нужно хранить данные о том, что информация в переменной имеет смысл.

Как частый пример использования опициональных переменных, можно привести "значения по умолчанию", например, если не сказанно обратного, то используем время по гринвичу (одна из огромных проблем программирования - часовые пояса, но с ней надо столкнуться на практике, иначе не поймешь трагедии).

Или другой пример - алгоритм поиска номера в некоторой последовательности. Например, номер слова в тексе. Он может вернуть номер или признак, что такого слова в тексте нет.

## Массив

Он же список, он же вектор. Просто пронумерованная последовательность из переменных.

В книгах обычно пишут "представьте себе, что переменная - это коробочка. И если много таких коробочек поставить в ряд - то получится массив...". Нет. Как мы выяснили выше - переменная это кусочек информации. Ставим много кусочков один за одним - получаем массив.

Напрмер - ставя слова и знаки препинания друг за другом - получаем строку. Ставя друг за другом строки - получаем текст.

Прозорливый чиататель спросит "А разве слова не состоят из букв?", а я отвечу - да, состоят и тоже являются массивами.

## Множество

Как массив, но порядок эллементов не важен, а каждая переменная встречается внутри только один раз.

Бывает очень удобно в использовании, но не часто. Использовать надо редко, но метко.

## Словарь

Настолько важная и основополагающая структура данных, что о ней говорят очень редко. И, как правило, говорят не всё. Словарь так же известен под именем "ассоциативный массив".

Идея проста - одним переменным (ключам словаря) ставятся в однозначеное соответствие другие (назовём их значениями).

Например, есть имена некоторой группы людей (тезок в группе нет) и их любимых домашних животных (ценично посчитаем, что слова "я люблю их всех одиаково" - вранье). __Маша__ любит кота _Филю_, __Сережа__ - собаку _Шарика_, __Вова__ любит утку _Кряку_, ну а __Алина__ любит свинью _Клару_ (но это только до осени).

> Жирным выделены ключи словаря, а курсивом - соответствующие им значения

Словари деляться на два вида и совершенно по разному воспринимаются программистами:

### Словарь с произвольными ключами

В таких словарях ключем может выступать любая другая переменная.  Используются для хранения данных как в примере выше.

### Словарь с заранее заданными ключами

Гараздо более часто использующийся словарь. Ключи задаются программистом на этапе описания алгоритма и предполагается, что на момент использования такого словоря значения переменных уже известны. В главе про переменные был пример с погодными условиями - вот это как раз оно.

Часто их называют "классами" или "объектами" (и под этими двумя вещами имеют ввиду разное и они включают в себя еще некоторые вещи, о которых мы поговорим позднее). Иногда их называют "структурами" (не имея ввиду вообще все структуры данных). Но логически - это просто словарь с заранее известными ключами.

# Связь между структурами данных

Как мог заметить прозарливый читатель (тот же что и в части про массивы или любой другой), одни структуры можно выразить через другие.

* Массив - это словарь с произвольными ключами (номерами элементов).

* Множество - это как массив, но с меньшим количеством ограничний.

* Словарь с заранее заданными ключами - это словарь с произвольно заданными ключами, но без лишних ограничений.
* Ну а опициональная переменная - это
  * Или словарь с заранее заданными ключами: информация о том, что переменная имеет значение, и само значение переменной
  * Или массив из двух эллеменов. В первом - значение переменной, а во втором - информация о том, что первая переменная имеет смысл.

Я скажу даже больше, с помощью массива (состоящего из других массивов), можно сконструировать словарь.

И зачем все прочите структуры данных, если одного массива достаточно?

Да всё просто - думать исключительно о массивах не удобно, а объяснения другому программисту, что вот этот массив - он как бы не совсем массив и им нужно пользоваться неким особым образом, а вот тот массив - нормальный, может занять неадекватное количество времени.



